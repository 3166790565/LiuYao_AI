def shuzilianghua(yuejian, richen, dizhi):
    """
    易清岚数字量化
    根据月建、日辰和地支的组合计算对应的数值
    
    Args:
        yuejian (str): 月建地支
        richen (str): 日辰地支
        dizhi (str): 目标地支
        
    Returns:
        tuple: (yuejianshu, richenshu) 月建数和日辰数
    """
    dizhi_list = ["子", "丑", "寅", "卯", "辰", "巳", "午", "未", "申", "酉", "戌", "亥"]

    # 月建数字量化映射表
    yuejian_mapping = {
        "子": {
            "子": 2.0, "丑": 0.5, "寅": 1.0, "卯": 1.0, "辰": -0.1, "巳": -1.0,
            "午": -2.0, "未": -0.1, "申": -0.1, "酉": -0.1, "戌": -0.1, "亥": 1.0
        },
        "丑": {
            "子": -0.5, "丑": 2.0, "寅": -0.1, "卯": -0.1, "辰": 1.0, "巳": -0.1,
            "午": -0.1, "未": -2.0, "申": 1.0, "酉": 1.0, "戌": 1.0, "亥": -1.0
        },
        "寅": {
            "子": -0.1, "丑": -1.0, "寅": 2.0, "卯": 1.0, "辰": -1.0, "巳": 1.0,
            "午": 1.0, "未": -1.0, "申": -2.0, "酉": -0.1, "戌": -1.0, "亥": 0.5
        },
        "卯": {
            "子": -0.1, "丑": -1.0, "寅": 1.0, "卯": 2.0, "辰": -1.0, "巳": 1.0,
            "午": 1.0, "未": -1.0, "申": -0.1, "酉": -2.0, "戌": -0.1, "亥": -0.1
        },
        "辰": {
            "子": -1.0, "丑": 1.0, "寅": 0.5, "卯": 0.5, "辰": 2.0, "巳": -0.1,
            "午": -0.1, "未": 1.0, "申": 1.0, "酉": 2.0, "戌": -2.0, "亥": -1.0
        },
        "巳": {
            "子": -0.1, "丑": 1.0, "寅": -0.1, "卯": -0.1, "辰": 1.0, "巳": 2.0,
            "午": 1.0, "未": 1.0, "申": -0.5, "酉": -1.0, "戌": 1.0, "亥": -2.0
        },
        "午": {
            "子": -2.0, "丑": 1.0, "寅": -0.1, "卯": -0.1, "辰": 1.0, "巳": 1.0,
            "午": 2.0, "未": 2.0, "申": -1.0, "酉": -1.0, "戌": 1.0, "亥": -0.1
        },
        "未": {
            "子": -1.0, "丑": -2.0, "寅": -0.1, "卯": -0.1, "辰": 1.0, "巳": 0.5,
            "午": 0.5, "未": 2.0, "申": 1.0, "酉": 1.0, "戌": 1.0, "亥": 1.0
        },
        "申": {
            "子": 1.0, "丑": -0.1, "寅": -2.0, "卯": -1.0, "辰": -0.1, "巳": 0.5,
            "午": -0.1, "未": -0.1, "申": 2.0, "酉": 1.0, "戌": -0.1, "亥": 1.0
        },
        "酉": {
            "子": 1.0, "丑": -0.1, "寅": -1.0, "卯": -2.0, "辰": 0.5, "巳": -0.1,
            "午": -0.1, "未": -0.1, "申": 1.0, "酉": 2.0, "戌": -0.1, "亥": 1.0
        },
        "戌": {
            "子": -1.0, "丑": 1.0, "寅": -0.1, "卯": 0.5, "辰": -2.0, "巳": -0.1,
            "午": -0.1, "未": 1.0, "申": 1.0, "酉": 1.0, "戌": 2.0, "亥": -1.0
        },
        "亥": {
            "子": 1.0, "丑": -0.1, "寅": 2.0, "卯": 1.0, "辰": -0.1, "巳": -2.0,
            "午": -1.0, "未": -0.1, "申": -0.1, "酉": -0.1, "戌": -0.1, "亥": 2.0
        }
    }

    # 日辰数字量化映射表（与月建相同的逻辑）
    richen_mapping = {
        "子": {
            "子": 2.0, "丑": 0.0, "寅": 1.0, "卯": 1.0, "辰": 0.0, "巳": -1.0,
            "午": "po", "未": 0.0, "申": 0.0, "酉": 0.0, "戌": 0.0, "亥": 1.0
        },
        "丑": {
            "子": -1.0, "丑": 2.0, "寅": 0.0, "卯": 0.0, "辰": 1.0, "巳": 0.0,
            "午": 0.0, "未": "po", "申": 1.0, "酉": 1.0, "戌": 1.0, "亥": -0.1
        },
        "寅": {
            "子": 0.0, "丑": -1.0, "寅": 2.0, "卯": 1.0, "辰": -1.0, "巳": 1.0,
            "午": 1.0, "未": -1., "申": "po", "酉": 0.0, "戌": -1.0, "亥": 0.0
        },
        "卯": {
            "子": 0.0, "丑": -1.0, "寅": 1.0, "卯": 2.0, "辰": -1.0, "巳": 1.0,
            "午": 1.0, "未": -1.0, "申": 0.0, "酉": "po", "戌": -1.0, "亥": 0.0
        },
        "辰": {
            "子": -1.0, "丑": 1.0, "寅": 0.0, "卯": 0.0, "辰": 2.0, "巳": 0.0,
            "午": 0.0, "未": 1.0, "申": 1.0, "酉": 2.0, "戌": "po", "亥": -1.0
        },
        "巳": {
            "子": 0.0, "丑": 1.0, "寅": 0.0, "卯": 0.0, "辰": 1.0, "巳": 2.0,
            "午": 1.0, "未": 1.0, "申": -1.0, "酉": -1.0, "戌": 1.0, "亥": "po"
        },
        "午": {
            "子": "po", "丑": 1.0, "寅": 0.0, "卯": 0.0, "辰": 1.0, "巳": 1.0,
            "午": 2.0, "未": 2.0, "申": -1.0, "酉": -1.0, "戌": 1.0, "亥": 0.0
        },
        "未": {
            "子": -1.0, "丑": "po", "寅": 0.0, "卯": 0.0, "辰": 1.0, "巳": 0.0,
            "午": 0.0, "未": 2.0, "申": 1.0, "酉": 1.0, "戌": 1.0, "亥": -1.0
        },
        "申": {
            "子": 1.0, "丑": 0.0, "寅": "po", "卯": -1.0, "辰": 0.0, "巳": 0.0,
            "午": 0.0, "未": 0.0, "申": 2.0, "酉": 1.0, "戌": 0.0, "亥": 1.0
        },
        "酉": {
            "子": 1.0, "丑": 0.0, "寅": -1.0, "卯": "po", "辰": 0.0, "巳": 0.0,
            "午": 0.0, "未": 0.0, "申": 1.0, "酉": 2.0, "戌": 0.0, "亥": 1.0
        },
        "戌": {
            "子": -1.0, "丑": 1.0, "寅": 0.0, "卯": 0.0, "辰": "po", "巳": 0.0,
            "午": 0.0, "未": 1.0, "申": 1.0, "酉": 1.0, "戌": 2.0, "亥": -1.0
        },
        "亥": {
            "子": 1.0, "丑": 0.0, "寅": 2.0, "卯": 1.0, "辰": 0.0, "巳": "po",
            "午": -1.0, "未": -0.0, "申": 0.0, "酉": 0.0, "戌": 0.0, "亥": 2.0
        }
    }

    # 初始化返回值
    yuejianshu = 0
    richenshu = 0

    # 验证输入参数是否有效
    if yuejian not in dizhi_list:
        raise ValueError(f"无效的月建地支: {yuejian}")
    if richen not in dizhi_list:
        raise ValueError(f"无效的日辰地支: {richen}")
    if dizhi not in dizhi_list:
        raise ValueError(f"无效的目标地支: {dizhi}")

    # 根据月建和地支查找对应的数值
    if yuejian in yuejian_mapping and dizhi in yuejian_mapping[yuejian]:
        yuejianshu = yuejian_mapping[yuejian][dizhi]

    # 根据日辰和地支查找对应的数值
    if richen in richen_mapping and dizhi in richen_mapping[richen]:
        richenshu = richen_mapping[richen][dizhi]

    return yuejianshu, richenshu


if __name__ == "__main__":

    # 交互式测试
    print("\n=== 交互式测试 ===")
    while True:
        try:
            yuejian = input("请输入月建地支（输入'quit'退出）: ").strip()
            if yuejian.lower() == 'quit':
                break

            richen = input("请输入日辰地支: ").strip()
            dizhi = input("请输入目标地支: ").strip()

            yuejianshu, richenshu = shuzilianghua(yuejian, richen, dizhi)

            print(f"\n结果:")
            print(f"  月建数: {yuejianshu}")
            print(f"  日辰数: {richenshu}")
            print(f"  总和: {yuejianshu + richenshu}")
            print("-" * 30)

        except ValueError as e:
            print(f"输入错误: {e}")
        except KeyboardInterrupt:
            print("\n程序已退出")
            break
        except Exception as e:
            print(f"发生错误: {str(e)}")
